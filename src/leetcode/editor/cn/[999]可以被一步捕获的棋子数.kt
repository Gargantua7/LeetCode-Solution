//ç»™å®šä¸€ä¸ª 8 x 8 çš„æ£‹ç›˜ï¼Œåªæœ‰ä¸€ä¸ª ç™½è‰²çš„è½¦ï¼Œç”¨å­—ç¬¦ 'R' è¡¨ç¤ºã€‚æ£‹ç›˜ä¸Šè¿˜å¯èƒ½å­˜åœ¨ç™½è‰²çš„è±¡ 'B' ä»¥åŠé»‘è‰²çš„å’ 'p'ã€‚ç©ºæ–¹å—ç”¨å­—ç¬¦ '.' è¡¨ç¤ºã€‚
// 
//
// è½¦å¯ä»¥æŒ‰æ°´å¹³æˆ–ç«–ç›´æ–¹å‘ï¼ˆä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³ï¼‰ç§»åŠ¨ä»»æ„ä¸ªæ–¹æ ¼ç›´åˆ°å®ƒé‡åˆ°å¦ä¸€ä¸ªæ£‹å­æˆ–æ£‹ç›˜çš„è¾¹ç•Œã€‚å¦‚æœå®ƒèƒ½å¤Ÿåœ¨ä¸€æ¬¡ç§»åŠ¨ä¸­ç§»åŠ¨åˆ°æ£‹å­çš„æ–¹æ ¼ï¼Œåˆ™èƒ½å¤Ÿ åƒæ‰ æ£‹å­ã€‚ 
//
// æ³¨æ„ï¼šè½¦ä¸èƒ½ç©¿è¿‡å…¶å®ƒæ£‹å­ï¼Œæ¯”å¦‚è±¡å’Œå’ã€‚è¿™æ„å‘³ç€å¦‚æœæœ‰å…¶å®ƒæ£‹å­æŒ¡ä½äº†è·¯å¾„ï¼Œè½¦å°±ä¸èƒ½å¤Ÿåƒæ‰æ£‹å­ã€‚ 
//
// è¿”å›ç™½è½¦ æ”»å‡» èŒƒå›´å†… å…µçš„æ•°é‡ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//
// 
//è¾“å…¥ï¼š[[".",".",".",".",".",".",".","."],[".",".",".","p",".",".",".","."],[".",
//".",".","R",".",".",".","p"],[".",".",".",".",".",".",".","."],[".",".",".",".",
//".",".",".","."],[".",".",".","p",".",".",".","."],[".",".",".",".",".",".",".",
//"."],[".",".",".",".",".",".",".","."]]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼š
//åœ¨æœ¬ä¾‹ä¸­ï¼Œè½¦èƒ½å¤Ÿåƒæ‰æ‰€æœ‰çš„å’ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//
// 
//è¾“å…¥ï¼š[[".",".",".",".",".",".",".","."],[".","p","p","p","p","p",".","."],[".",
//"p","p","B","p","p",".","."],[".","p","B","R","B","p",".","."],[".","p","p","B",
//"p","p",".","."],[".","p","p","p","p","p",".","."],[".",".",".",".",".",".",".",
//"."],[".",".",".",".",".",".",".","."]]
//è¾“å‡ºï¼š0
//è§£é‡Šï¼š
//è±¡é˜»æ­¢äº†è½¦åƒæ‰ä»»ä½•å’ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//
// 
//è¾“å…¥ï¼š[[".",".",".",".",".",".",".","."],[".",".",".","p",".",".",".","."],[".",
//".",".","p",".",".",".","."],["p","p",".","R",".","p","B","."],[".",".",".",".",
//".",".",".","."],[".",".",".","B",".",".",".","."],[".",".",".","p",".",".",".",
//"."],[".",".",".",".",".",".",".","."]]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼š 
//è½¦å¯ä»¥åƒæ‰ä½ç½® b5ï¼Œd6 å’Œ f5 çš„å’ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// board.length == 8 
// board[i].length == 8 
// board[i][j] å¯ä»¥æ˜¯ 'R'ï¼Œ'.'ï¼Œ'B' æˆ– 'p' 
// åªæœ‰ä¸€ä¸ªæ ¼å­ä¸Šå­˜åœ¨ board[i][j] == 'R' 
// 
//
// Related Topics æ•°ç»„ çŸ©é˜µ æ¨¡æ‹Ÿ ğŸ‘ 128 ğŸ‘ 0


package leetcode.editor.cn

/**
 * 999
 * å¯ä»¥è¢«ä¸€æ­¥æ•è·çš„æ£‹å­æ•°
 *
 * @author Gargantuaä¸¶
 * 2024-12-06 16:36:24
 */
private class AvailableCapturesForRook {
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    fun numRookCaptures(board: Array<CharArray>): Int {
        board.forEachIndexed { x, r ->
            r.forEachIndexed { y, c ->
                if (c == 'R') {
                    return arrayOf(1 to 0, -1 to 0, 0 to 1, 0 to -1).count { (i, j) -> search(board, x, y, i, j) }
                }
            }
        }
        throw RuntimeException()
    }

    tailrec fun search(board: Array<CharArray>, x: Int, y: Int, i: Int, j: Int): Boolean {
        if (x !in board.indices || y !in board[0].indices) return false
        if (board[x][y] == '.' || board[x][y] == 'R') return search(board, x + i, y + j, i, j)
        return board[x][y] == 'p'
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}