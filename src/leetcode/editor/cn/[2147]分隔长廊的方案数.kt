//åœ¨ä¸€ä¸ªå›¾ä¹¦é¦†çš„é•¿å»Šé‡Œï¼Œæœ‰ä¸€äº›åº§ä½å’Œè£…é¥°æ¤ç‰©æ’æˆä¸€åˆ—ã€‚ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹ï¼Œé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸² corridor ï¼Œå®ƒåŒ…å«å­—æ¯ 'S' å’Œ 'P' ï¼Œå…¶
//ä¸­æ¯ä¸ª 'S' è¡¨ç¤ºä¸€ä¸ªåº§ä½ï¼Œæ¯ä¸ª 'P' è¡¨ç¤ºä¸€æ ªæ¤ç‰©ã€‚ 
//
// åœ¨ä¸‹æ ‡ 0 çš„å·¦è¾¹å’Œä¸‹æ ‡ n - 1 çš„å³è¾¹ å·²ç» åˆ†åˆ«å„æ”¾äº†ä¸€ä¸ªå±é£ã€‚ä½ è¿˜éœ€è¦é¢å¤–æ”¾ç½®ä¸€äº›å±é£ã€‚æ¯ä¸€ä¸ªä½ç½® i - 1 å’Œ i ä¹‹é—´ï¼ˆ1 <= i <=
// n - 1ï¼‰ï¼Œè‡³å¤šèƒ½æ”¾ä¸€ä¸ªå±é£ã€‚ 
//
// è¯·ä½ å°†èµ°å»Šç”¨å±é£åˆ’åˆ†ä¸ºè‹¥å¹²æ®µï¼Œä¸”æ¯ä¸€æ®µå†…éƒ½ æ°å¥½æœ‰ä¸¤ä¸ªåº§ä½ ï¼Œè€Œæ¯ä¸€æ®µå†…æ¤ç‰©çš„æ•°ç›®æ²¡æœ‰è¦æ±‚ã€‚å¯èƒ½æœ‰å¤šç§åˆ’åˆ†æ–¹æ¡ˆï¼Œå¦‚æœä¸¤ä¸ªæ–¹æ¡ˆä¸­æœ‰ä»»ä½•ä¸€ä¸ªå±é£çš„ä½ç½®ä¸åŒï¼Œé‚£
//ä¹ˆå®ƒä»¬è¢«è§†ä¸º ä¸åŒ æ–¹æ¡ˆã€‚ 
//
// è¯·ä½ è¿”å›åˆ’åˆ†èµ°å»Šçš„æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ è¿”å›å®ƒå¯¹ 10â¹ + 7 å–ä½™ çš„ç»“æœã€‚å¦‚æœæ²¡æœ‰ä»»ä½•æ–¹æ¡ˆï¼Œè¯·è¿”å› 0 ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//
// è¾“å…¥ï¼šcorridor = "SSPPSPS"
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šæ€»å…±æœ‰ 3 ç§ä¸åŒåˆ†éš”èµ°å»Šçš„æ–¹æ¡ˆã€‚
//ä¸Šå›¾ä¸­é»‘è‰²çš„ç«–çº¿è¡¨ç¤ºå·²ç»æ”¾ç½®å¥½çš„å±é£ã€‚
//ä¸Šå›¾æ¯ç§æ–¹æ¡ˆä¸­ï¼Œæ¯ä¸€æ®µéƒ½æ°å¥½æœ‰ ä¸¤ä¸ªÂ åº§ä½ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//
// è¾“å…¥ï¼šcorridor = "PPSPSP"
//è¾“å‡ºï¼š1
//è§£é‡Šï¼šåªæœ‰ 1 ç§åˆ†éš”èµ°å»Šçš„æ–¹æ¡ˆï¼Œå°±æ˜¯ä¸æ”¾ç½®ä»»ä½•å±é£ã€‚
//æ”¾ç½®ä»»ä½•çš„å±é£éƒ½ä¼šå¯¼è‡´æœ‰ä¸€æ®µæ— æ³•æ°å¥½æœ‰ 2 ä¸ªåº§ä½ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//
// è¾“å…¥ï¼šcorridor = "S"
//è¾“å‡ºï¼š0
//è§£é‡Šï¼šæ²¡æœ‰ä»»ä½•æ–¹æ¡ˆï¼Œå› ä¸ºæ€»æ˜¯æœ‰ä¸€æ®µæ— æ³•æ°å¥½æœ‰ 2 ä¸ªåº§ä½ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// n == corridor.length 
// 1 <= n <= 10âµ 
// corridor[i] è¦ä¹ˆæ˜¯ 'S' ï¼Œè¦ä¹ˆæ˜¯ 'P' ã€‚ 
// 
//
// Related Topics æ•°å­¦ å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ ğŸ‘ 30 ğŸ‘ 0


package leetcode.editor.cn

/*** 2147
* åˆ†éš”é•¿å»Šçš„æ–¹æ¡ˆæ•°
*
* @author Gargantua7
* 2025-12-14 00:36:20
*/
class NumberOfWaysToDivideALongCorridor {
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    fun numberOfWays(corridor: String): Int {

        if (corridor.count { it == 'S' }.let { it == 0 || it % 2 != 0 }) return 0

        val gap = ArrayList<Int>()
        gap.add(1)

        corridor.forEach {
            if (it == 'P') {
                gap[gap.lastIndex]++
            } else if (it == 'S') {
                gap.add(1)
            }
        }

        if (corridor.first() == 'P') gap[0] = 1
        if (corridor.last() == 'P') gap[gap.lastIndex] = 1

        val mod = 1_000_000_007
        var ans = 1L
        for (i in gap.indices step 2) {
            ans *= gap[i] % mod
            ans %= mod
        }

        return ans.toInt()
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}